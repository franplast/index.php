!function(){"use strict";window.JCNewsDetailObjects||(window.JCNewsDetailObjects=function(t){this.config="",this.visual={ID:""},this.item={id:0,name:"",address:"",timezone:"",workingHours:{},phone:{},email:{},skype:{},callbackForm:!1,productIds:[]},this.sPanel=null,this.sPanelContent=null,this.obItem=null,this.obTabs=null,this.obTabsBlock=null,this.obTabContainers=null,this.obSectionsLinks=null,this.errorCode=0,"object"==typeof t&&(this.config=t.CONFIG,this.visual=t.VISUAL,this.item.id=t.ITEM.ID,this.item.name=t.ITEM.NAME,this.item.address=t.ITEM.ADDRESS,this.item.timezone=t.ITEM.TIMEZONE,this.item.workingHours=t.ITEM.WORKING_HOURS,this.item.phone=t.ITEM.PHONE.VALUE,this.item.phoneDescription=t.ITEM.PHONE.DESCRIPTION,this.item.email=t.ITEM.EMAIL.VALUE,this.item.emailDescription=t.ITEM.EMAIL.DESCRIPTION,this.item.skype=t.ITEM.SKYPE.VALUE,this.item.skypeDescription=t.ITEM.SKYPE.DESCRIPTION,this.item.callbackForm=t.ITEM.CALLBACK_FORM,this.item.productIds=t.ITEM.PRODUCT_IDS,BX.ready(BX.delegate(this.init,this)))},window.JCNewsDetailObjects.prototype={init:function(){if(this.obItem=BX(this.visual.ID),this.obItem||(this.errorCode=-1),0===this.errorCode){this.obTabs=this.obItem.querySelector(".objects-detail-tabs-container"),this.obTabsBlock=!!this.obTabs&&this.obTabs.querySelector('[data-entity="tabs"]'),this.obTabContainers=this.obItem.querySelector(".objects-detail-tabs-content"),this.obTabs&&(this.initTabs(),this.obTabsBlock&&(this.tabsPanelFixed=!1,this.tabsPanelScrolled=!1,this.lastScrollTop=0,this.checkTopTabsBlockScroll(),BX.bind(window,"scroll",BX.proxy(this.checkTopTabsBlockScroll,this)),BX.bind(window,"resize",BX.proxy(this.checkTopTabsBlockResize,this)),this.checkActiveTabsBlock(),BX.bind(window,"scroll",BX.proxy(this.checkActiveTabsBlock,this)),BX.bind(window,"resize",BX.proxy(this.checkActiveTabsBlock,this)))),this.sPanel=document.body.querySelector(".slide-panel"),this.showWorkingHoursToday();var t=this.obItem.querySelector(".objects-item-detail-btn");t&&BX.bind(t,"click",BX.proxy(this.item.callbackForm?this.showContactsWidthForm:this.showContacts,this)),this.sPanel&&(BX.bind(document,"click",BX.delegate(function(t){if(BX.hasClass(this.sPanel,"active")&&BX.findParent(t.target,{attrs:{id:this.visual.ID+"_contacts"}})&&BX.hasClass(t.target,"icon-arrow-down")){var s=BX.findParent(t.target,{attrs:{"data-entity":"working-hours-today"}});s&&BX.style(s,"display","none");var e=BX(this.visual.ID+"_contacts").querySelector('[data-entity="working-hours"]');e&&BX.style(e,"display",""),t.stopPropagation()}},this)),BX.bind(document,"click",BX.delegate(function(t){if(BX.hasClass(this.sPanel,"active")&&BX.findParent(t.target,{attrs:{id:this.visual.ID+"_contacts"}})&&BX.hasClass(t.target,"icon-arrow-up")){var s=BX.findParent(t.target,{attrs:{"data-entity":"working-hours"}});s&&BX.style(s,"display","none");var e=BX(this.visual.ID+"_contacts").querySelector('[data-entity="working-hours-today"]');e&&BX.style(e,"display",""),t.stopPropagation()}},this))),this.obSectionsLinks=this.obItem.querySelector(".objects-detail-sections-links"),this.obSectionsLinks&&this.initSectionsLinks()}},initTabs:function(){var t,s,e=this.obTabs.querySelector(".objects-detail-tabs-list"),i=!!e&&e.querySelectorAll('[data-entity="tab"]'),a=!1;if(e&&(BX.addClass(e,"owl-carousel"),$(e).owlCarousel({autoWidth:!0,nav:!0,navText:['<i class="icon-arrow-left"></i>','<i class="icon-arrow-right"></i>'],navContainer:".objects-detail-tabs-scroll",dots:!1}),i))for(var o in i)i.hasOwnProperty(o)&&BX.type.isDomNode(i[o])&&(t=i[o].getAttribute("data-value"))&&(s=this.obTabContainers.querySelector('[data-value="'+t+'"]'),BX.type.isDomNode(s)&&(BX.bind(i[o],"click",BX.proxy(this.changeTab,this)),a?BX.removeClass(i[o],"active"):(BX.addClass(i[o],"active"),a=!0),window.location.hash.indexOf(t)>-1&&(i[o].click(),window.history.pushState("",document.title,window.location.pathname+window.location.search))))},checkTopTabsBlockScroll:function(){var t=document.querySelector(".top-panel"),s=0,e=!!t&&t.querySelector(".top-panel__thead"),i=!!t&&t.querySelector(".top-panel__tfoot"),a=BX.pos(this.obTabs).top,o=this.obTabsBlock,n=o.offsetHeight,l=BX.GetWindowScrollPos().scrollTop;if(window.innerWidth<992)if(e&&BX.hasClass(e,"fixed")&&(s=e.offsetHeight,i&&BX.hasClass(i,"visible")&&(s+=i.offsetHeight)),l+s>=a)if(this.tabsPanelFixed)if(!this.tabsPanelScrolled&&s>0&&l<this.lastScrollTop){this.tabsPanelScrolled=!0;var r=this.tabsPanelScrolled;new BX.easing({duration:300,start:{top:Math.abs(parseInt(BX.style(o,"top"),10))},finish:{top:s},transition:BX.easing.transitions.linear,step:function(t){r&&BX.style(o,"top",t.top+"px")}}).animate()}else this.tabsPanelScrolled&&s>0&&l>this.lastScrollTop&&(this.tabsPanelScrolled=!1,new BX.easing({duration:300,start:{top:Math.abs(parseInt(BX.style(o,"top"),10))},finish:{top:s},transition:BX.easing.transitions.linear,step:function(t){BX.style(o,"top",t.top+"px")}}).animate());else this.tabsPanelFixed=!0,BX.style(this.obTabs,"height",n+"px"),BX.style(o,"top",s+"px"),BX.addClass(o,"fixed");else this.tabsPanelFixed&&l+s<a&&(this.tabsPanelFixed=!1,this.tabsPanelScrolled=!1,this.obTabs.removeAttribute("style"),o.removeAttribute("style"),BX.removeClass(o,"fixed"));else t&&BX.hasClass(t,"fixed")&&(s=t.offsetHeight),!this.tabsPanelFixed&&l+s>=a?(this.tabsPanelFixed=!0,BX.style(this.obTabs,"height",n+"px"),BX.style(o,"top",s+"px"),BX.addClass(o,"fixed")):this.tabsPanelFixed&&l+s<a&&(this.tabsPanelFixed=!1,this.obTabs.removeAttribute("style"),o.removeAttribute("style"),BX.removeClass(o,"fixed"));this.lastScrollTop=l},checkTopTabsBlockResize:function(){if(BX.hasClass(this.obTabsBlock,"fixed")){var t=document.querySelector(".top-panel"),s=0,e=!!t&&t.querySelector(".top-panel__thead"),i=!!t&&t.querySelector(".top-panel__tfoot");window.innerWidth<992?e&&BX.hasClass(e,"fixed")&&(s=e.offsetHeight,i&&BX.hasClass(i,"visible")&&(s+=i.offsetHeight)):(t&&BX.hasClass(t,"fixed")&&(s=t.offsetHeight),this.tabsPanelScrolled=!1),BX.style(this.obTabsBlock,"top",s+"px")}},checkActiveTabsBlock:function(){var t=document.querySelector(".top-panel"),s=0,e=!!t&&t.querySelector(".top-panel__thead"),i=!!t&&t.querySelector(".top-panel__tfoot"),a=this.obTabsBlock,o=0,n=this.obTabContainers.querySelectorAll('[data-entity="tab-container"]'),l=this.obTabs.querySelectorAll('[data-entity="tab"]'),r=BX.GetWindowScrollPos().scrollTop;if(n&&l){window.innerWidth<992?e&&BX.hasClass(e,"fixed")&&(s=e.offsetHeight,i&&BX.hasClass(i,"visible")&&(s+=i.offsetHeight)):t&&BX.hasClass(t,"fixed")&&(s=t.offsetHeight),a&&BX.hasClass(a,"fixed")&&(o=a.offsetHeight);var c=r+s+o,d=Object.keys(n).length;for(var h in n)if(n.hasOwnProperty(h)&&BX.type.isDomNode(n[h])){var p=n[h].getAttribute("data-value");if(p)if(c>=BX.pos(n[h]).top&&c<=BX.pos(n[d-1]).bottom){for(var _ in l)if(l.hasOwnProperty(_)&&BX.type.isDomNode(l[_])){var m=l[_].getAttribute("data-value");m&&(m===p?BX.addClass(l[_],"active"):BX.removeClass(l[_],"active"))}}else if(c>BX.pos(n[d-1]).bottom)for(var _ in l)l.hasOwnProperty(_)&&BX.type.isDomNode(l[_])&&BX.removeClass(l[_],"active")}}},changeTab:function(t){BX.PreventDefault(t),BX.unbind(window,"scroll",BX.proxy(this.checkActiveTabsBlock,this));var s,e,i=BX.proxy_context&&BX.proxy_context.getAttribute("data-value");if(i){if(s=this.obTabContainers.querySelectorAll('[data-entity="tab-container"]'))for(var a in s)if(s.hasOwnProperty(a)&&BX.type.isDomNode(s[a])&&s[a].getAttribute("data-value")===i){var o=document.querySelector(".top-panel"),n=0,l=!!o&&o.querySelector(".top-panel__thead"),r=!!o&&o.querySelector(".top-panel__tfoot"),c=BX.pos(s[a]).top,d=BX.GetWindowScrollPos().scrollTop;window.innerWidth<992?l&&(n=l.offsetHeight,d+this.obTabsBlock.offsetHeight+n>c&&r&&(n+=r.offsetHeight)):o&&(n=o.offsetHeight),new BX.easing({duration:500,start:{scroll:d},finish:{scroll:c-this.obTabsBlock.offsetHeight-n},transition:BX.easing.makeEaseOut(BX.easing.transitions.quint),step:BX.delegate(function(t){window.scrollTo(0,t.scroll)},this),complete:BX.delegate(function(){BX.bind(window,"scroll",BX.proxy(this.checkActiveTabsBlock,this))},this)}).animate()}if(e=this.obTabs.querySelectorAll('[data-entity="tab"]'))for(var a in e)e.hasOwnProperty(a)&&BX.type.isDomNode(e[a])&&(e[a].getAttribute("data-value")===i?BX.addClass(e[a],"active"):BX.removeClass(e[a],"active"))}},showWorkingHoursToday:function(){var t=this.obItem.querySelector(".objects-item-detail-hours");t&&(t.innerHTML='<i class="fa fa-spinner fa-pulse"></i>'+BX.message("OBJECTS_ITEM_DETAIL_LOADING"),BX.removeClass(t,"objects-item-detail-hours-hidden"),BX.ajax({url:BX.message("OBJECT_TEMPLATE_PATH")+"/ajax.php",method:"POST",dataType:"json",timeout:60,data:{action:"workingHoursToday",timezone:this.item.timezone,workingHours:this.item.workingHours},onsuccess:BX.delegate(function(s){var e="";if(s.today)for(var i in this.item.workingHoursToday=s.today,this.item.workingHoursToday)this.item.workingHoursToday.hasOwnProperty(i)&&(this.item.workingHoursToday[i].STATUS&&(e+='<span class="objects-item-detail-hours-icon objects-item-detail-hours-icon-'+("OPEN"==this.item.workingHoursToday[i].STATUS?"open":"closed")+'"></span>'),this.item.workingHoursToday[i].WORK_START&&this.item.workingHoursToday[i].WORK_END?this.item.workingHoursToday[i].WORK_START!=this.item.workingHoursToday[i].WORK_END?(e+=this.item.workingHoursToday[i].WORK_START+" - "+this.item.workingHoursToday[i].WORK_END,this.item.workingHoursToday[i].BREAK_START&&this.item.workingHoursToday[i].BREAK_END&&this.item.workingHoursToday[i].BREAK_START!=this.item.workingHoursToday[i].BREAK_END&&(e+='<span class="objects-item-detail-hours-break">',e+=BX.message("OBJECTS_ITEM_DETAIL_BREAK")+" "+this.item.workingHoursToday[i].BREAK_START+" - "+this.item.workingHoursToday[i].BREAK_END,e+="</span>")):e+=BX.message("OBJECTS_ITEM_DETAIL_24_HOURS"):e+=BX.message("OBJECTS_ITEM_DETAIL_OFF"));t.innerHTML=e,0==e.length&&BX.addClass(t,"objects-item-detail-hours-hidden")},this)}))},adjustContacts:function(){var t="";if(this.item.address||this.item.workingHours||this.item.workingHoursToday||this.item.phone||this.item.email||this.item.skype){if(t+='<div class="slide-panel__contacts" id="'+this.visual.ID+'_contacts">',this.item.address&&(t+='<div class="slide-panel__contacts-item">',t+='<div class="slide-panel__contacts-item__block">',t+='<div class="slide-panel__contacts-item__icon"><i class="icon-map-marker"></i></div>',t+='<div class="slide-panel__contacts-item__text">'+this.item.address+"</div>",t+="</div>",t+="</div>"),this.item.workingHoursToday)for(var s in this.item.workingHoursToday)this.item.workingHoursToday.hasOwnProperty(s)&&(t+='<div class="slide-panel__contacts-item" data-entity="working-hours-today">',t+='<div class="slide-panel__contacts-item__hours-today">',t+='<div class="slide-panel__contacts-item__today-container">',t+='<div class="slide-panel__contacts-item__today">',t+='<span class="slide-panel__contacts-item__today-icon"><i class="icon-clock"></i></span>',t+='<span class="slide-panel__contacts-item__today-title">'+BX.message("OBJECTS_ITEM_DETAIL_TODAY")+"</span>",this.item.workingHoursToday[s].STATUS&&(t+='<span class="slide-panel__contacts-item__today-status slide-panel__contacts-item__today-status-'+("OPEN"==this.item.workingHoursToday[s].STATUS?"open":"closed")+'"></span>'),t+="</div>",t+="</div>",t+='<div class="slide-panel__contacts-item__hours-break">',t+='<div class="slide-panel__contacts-item__hours slide-panel__contacts-item__hours-first">',t+='<span class="slide-panel__contacts-item__hours-title">',this.item.workingHoursToday[s].WORK_START&&this.item.workingHoursToday[s].WORK_END?this.item.workingHoursToday[s].WORK_START!=this.item.workingHoursToday[s].WORK_END?t+=this.item.workingHoursToday[s].WORK_START+" - "+this.item.workingHoursToday[s].WORK_END:t+=BX.message("OBJECTS_ITEM_DETAIL_24_HOURS"):t+=BX.message("OBJECTS_ITEM_DETAIL_OFF"),t+="</span>",t+='<span class="slide-panel__contacts-item__hours-icon"><i class="icon-arrow-down"></i></span>',t+="</div>",this.item.workingHoursToday[s].WORK_START&&this.item.workingHoursToday[s].WORK_END&&this.item.workingHoursToday[s].WORK_START!=this.item.workingHoursToday[s].WORK_END&&this.item.workingHoursToday[s].BREAK_START&&this.item.workingHoursToday[s].BREAK_END&&this.item.workingHoursToday[s].BREAK_START!=this.item.workingHoursToday[s].BREAK_END&&(t+='<div class="slide-panel__contacts-item__break">',t+=BX.message("OBJECTS_ITEM_DETAIL_BREAK")+" "+this.item.workingHoursToday[s].BREAK_START+" - "+this.item.workingHoursToday[s].BREAK_END,t+="</div>"),t+="</div>",t+="</div>",t+="</div>");if(this.item.workingHours){t+='<div class="slide-panel__contacts-item" data-entity="working-hours"'+(this.item.workingHoursToday?'style="display: none;"':"")+">";var e=0;for(var s in this.item.workingHours)this.item.workingHours.hasOwnProperty(s)&&(t+='<div class="slide-panel__contacts-item__hours-today">',t+='<div class="slide-panel__contacts-item__today-container">',t+='<div class="slide-panel__contacts-item__today">',0==e&&(t+='<span class="slide-panel__contacts-item__today-icon"><i class="icon-clock"></i></span>'),t+='<span class="slide-panel__contacts-item__today-title">'+(this.item.workingHoursToday&&this.item.workingHoursToday.hasOwnProperty(s)?BX.message("OBJECTS_ITEM_DETAIL_TODAY"):this.item.workingHours[s].NAME)+"</span>",this.item.workingHoursToday&&this.item.workingHoursToday.hasOwnProperty(s)&&this.item.workingHoursToday[s].STATUS&&(t+='<span class="slide-panel__contacts-item__today-status slide-panel__contacts-item__today-status-'+("OPEN"==this.item.workingHoursToday[s].STATUS?"open":"closed")+'"></span>'),t+="</div>",t+="</div>",t+='<div class="slide-panel__contacts-item__hours-break">',t+='<div class="slide-panel__contacts-item__hours'+(0==e?" slide-panel__contacts-item__hours-first":"")+'">',t+='<span class="slide-panel__contacts-item__hours-title">',this.item.workingHours[s].WORK_START&&this.item.workingHours[s].WORK_END?this.item.workingHours[s].WORK_START!=this.item.workingHours[s].WORK_END?t+=this.item.workingHours[s].WORK_START+" - "+this.item.workingHours[s].WORK_END:t+=BX.message("OBJECTS_ITEM_DETAIL_24_HOURS"):t+=BX.message("OBJECTS_ITEM_DETAIL_OFF"),t+="</span>",this.item.workingHoursToday&&0==e&&(t+='<span class="slide-panel__contacts-item__hours-icon"><i class="icon-arrow-up"></i></span>'),t+="</div>",this.item.workingHours[s].WORK_START&&this.item.workingHours[s].WORK_END&&this.item.workingHours[s].WORK_START!=this.item.workingHours[s].WORK_END&&this.item.workingHours[s].BREAK_START&&this.item.workingHours[s].BREAK_END&&this.item.workingHours[s].BREAK_START!=this.item.workingHours[s].BREAK_END&&(t+='<div class="slide-panel__contacts-item__break">',t+=BX.message("OBJECTS_ITEM_DETAIL_BREAK")+" "+this.item.workingHours[s].BREAK_START+" - "+this.item.workingHours[s].BREAK_END,t+="</div>"),t+="</div>",t+="</div>",e++);t+="</div>"}if(this.item.phone)for(var s in this.item.phone)this.item.phone.hasOwnProperty(s)&&(t+='<div class="slide-panel__contacts-item">',t+='<div class="slide-panel__contacts-item__block">',t+='<div class="slide-panel__contacts-item__icon"><i class="icon-phone"></i></div>',t+='<div class="slide-panel__contacts-item__text">',t+='<a class="slide-panel__contacts-item__phone slide-panel__contacts-item__link" href="tel:'+this.item.phone[s].replace(/[^\d\+]/g,"")+'">'+this.item.phone[s]+"</a>",this.item.phoneDescription.hasOwnProperty(s)&&this.item.phoneDescription[s].length>0&&(t+='<span class="slide-panel__contacts-item__descr">'+this.item.phoneDescription[s]+"</span>"),t+="</div>",t+="</div>",t+="</div>");if(this.item.email)for(var s in this.item.email)this.item.email.hasOwnProperty(s)&&(t+='<div class="slide-panel__contacts-item">',t+='<div class="slide-panel__contacts-item__block">',t+='<div class="slide-panel__contacts-item__icon"><i class="icon-mail"></i></div>',t+='<div class="slide-panel__contacts-item__text">',t+='<a class="slide-panel__contacts-item__link" href="mailto:'+this.item.email[s]+'">'+this.item.email[s]+"</a>",this.item.emailDescription.hasOwnProperty(s)&&this.item.emailDescription[s].length>0&&(t+='<span class="slide-panel__contacts-item__descr">'+this.item.emailDescription[s]+"</span>"),t+="</div>",t+="</div>",t+="</div>");if(this.item.skype)for(var s in this.item.skype)this.item.skype.hasOwnProperty(s)&&(t+='<div class="slide-panel__contacts-item">',t+='<div class="slide-panel__contacts-item__block">',t+='<div class="slide-panel__contacts-item__icon"><i class="fa fa-skype"></i></div>',t+='<div class="slide-panel__contacts-item__text">',t+='<a class="slide-panel__contacts-item__link" href="skype:'+this.item.skype[s]+'?chat">'+this.item.skype[s]+"</a>",this.item.skypeDescription.hasOwnProperty(s)&&this.item.skypeDescription[s].length>0&&(t+='<span class="slide-panel__contacts-item__descr">'+this.item.skypeDescription[s]+"</span>"),t+="</div>",t+="</div>",t+="</div>");t+="</div>",this.sPanelContent=t}},showContactsWidthForm:function(){this.sPanel&&(this.adjustContacts(),BX.ajax.post(BX.message("SITE_DIR")+"ajax/slide_panel.php",{action:"callback_objects"},BX.delegate(function(t){this.sPanel.appendChild(BX.create("DIV",{props:{className:"slide-panel__title-wrap"},children:[BX.create("I",{props:{className:"icon-phone-call"}}),BX.create("SPAN",{props:{className:"slide-panel__title"},html:this.item.name}),BX.create("SPAN",{props:{className:"slide-panel__close"},children:[BX.create("I",{props:{className:"icon-close"}})]})]})),this.sPanel.appendChild(BX.create("DIV",{props:{className:"slide-panel__content scrollbar-inner"},html:this.sPanelContent?this.sPanelContent+t:t}));var s=this.sPanel.querySelector(".slide-panel__content");s&&$(s).scrollbar();var e=this.sPanel.querySelector('[name="OBJECT_ID"]');e&&(e.value=this.item.id);var i=window.innerWidth-document.body.clientWidth;if(i>0){BX.style(document.body,"padding-right",i+"px");var a=document.querySelector(".page-bg");a&&BX.style(a,"margin-right",i+"px");var o=document.querySelector(".top-panel");if(o){BX.hasClass(o,"fixed")&&BX.style(o,"padding-right",i+"px");var n=o.querySelector(".top-panel__thead");n&&BX.hasClass(n,"fixed")&&BX.style(n,"padding-right",i+"px");var l=o.querySelector(".top-panel__tfoot");l&&BX.hasClass(l,"fixed")&&BX.style(l,"padding-right",i+"px")}this.obTabsBlock&&this.tabsPanelFixed&&BX.style(this.obTabsBlock,"padding-right",i+"px")}var r=BX.GetWindowScrollPos().scrollTop;r&&r>0&&BX.style(document.body,"top","-"+r+"px"),BX.addClass(document.body,"slide-panel-active"),BX.addClass(this.sPanel,"active"),document.body.appendChild(BX.create("DIV",{props:{className:"modal-backdrop slide-panel__backdrop fadeInBig"}}))},this)))},showContacts:function(t){if(this.adjustContacts(),this.sPanel&&this.sPanelContent){this.sPanel.appendChild(BX.create("DIV",{props:{className:"slide-panel__title-wrap"},children:[BX.create("I",{props:{className:"icon-phone-call"}}),BX.create("SPAN",{props:{className:"slide-panel__title"},html:this.item.name}),BX.create("SPAN",{props:{className:"slide-panel__close"},children:[BX.create("I",{props:{className:"icon-close"}})]})]})),this.sPanel.appendChild(BX.create("DIV",{props:{className:"slide-panel__content scrollbar-inner"},html:this.sPanelContent}));var s=this.sPanel.querySelector(".slide-panel__content");s&&$(s).scrollbar();var e=window.innerWidth-document.body.clientWidth;if(e>0){BX.style(document.body,"padding-right",e+"px");var i=document.querySelector(".page-bg");i&&BX.style(i,"margin-right",e+"px");var a=document.querySelector(".top-panel");if(a){BX.hasClass(a,"fixed")&&BX.style(a,"padding-right",e+"px");var o=a.querySelector(".top-panel__thead");o&&BX.hasClass(o,"fixed")&&BX.style(o,"padding-right",e+"px");var n=a.querySelector(".top-panel__tfoot");n&&BX.hasClass(n,"fixed")&&BX.style(n,"padding-right",e+"px")}this.obTabsBlock&&this.tabsPanelFixed&&BX.style(this.obTabsBlock,"padding-right",e+"px")}var l=BX.GetWindowScrollPos().scrollTop;l&&l>0&&BX.style(document.body,"top","-"+l+"px"),BX.addClass(document.body,"slide-panel-active"),BX.addClass(this.sPanel,"active"),document.body.appendChild(BX.create("DIV",{props:{className:"modal-backdrop slide-panel__backdrop fadeInBig"}})),t.stopPropagation()}},initSectionsLinks:function(){var t=this.obSectionsLinks.querySelectorAll(".objects-detail-section-link"),s=!1;if(t)for(var e in t)t.hasOwnProperty(e)&&BX.type.isDomNode(t[e])&&(BX.bind(t[e],"click",BX.proxy(this.changeSectionLink,this)),s?BX.removeClass(t[e],"active"):(BX.addClass(t[e],"active"),s=!0))},changeSectionLink:function(t){BX.PreventDefault(t);var s=BX.proxy_context&&BX.proxy_context.getAttribute("data-section-id");if(!BX.hasClass(BX.proxy_context,"active")&&s){var e=this.obItem.querySelector(".objects-detail-products");e&&(e.style.opacity=.2,BX.ajax.post(BX.message("OBJECT_TEMPLATE_PATH")+"/ajax.php",{action:"changeSectionLink",REQUEST_URI:window.location.href,siteId:BX.message("SITE_ID"),parameters:this.config,productIds:this.item.productIds,sectionId:s},BX.delegate(function(t){e.innerHTML=t,new BX.easing({duration:2e3,start:{opacity:20},finish:{opacity:100},transition:BX.easing.makeEaseOut(BX.easing.transitions.quad),step:function(t){e.style.opacity=t.opacity/100},complete:function(){e.removeAttribute("style")}}).animate()},this)));var i=this.obSectionsLinks.querySelectorAll(".objects-detail-section-link");if(i)for(var a in i)i.hasOwnProperty(a)&&BX.type.isDomNode(i[a])&&(i[a].getAttribute("data-section-id")===s?BX.addClass(i[a],"active"):BX.removeClass(i[a],"active"))}}})}();