!function(){"use strict";window.JCSlideMenu||(window.JCSlideMenu=function(e){this.slideMenu=BX(e.container),$(this.slideMenu).scrollbar({disableBodyScroll:!0}),BX.hasClass(this.slideMenu.parentNode,"scroll-wrapper")&&(this.slideMenu=this.slideMenu.parentNode),this.slideMenuSetActive=e.setActive,this.slideMenuOpenLast=e.openLast,this.slideMenuLoaded=!0,this.menuIcon=document.body.querySelector('[data-entity="menu-icon"]'),BX.ready(BX.delegate(this.init,this))},window.JCSlideMenu.prototype={init:function(){var e=this.slideMenu.querySelectorAll('[data-entity="dropdown-menu"]');if(e)for(var t in e){if(e.hasOwnProperty(t))if(e[t].querySelector(".active")){var s=BX.findParent(e[t],{tagName:"LI"});s&&BX.addClass(s,"active")}}this.adjustSlideMenu(),BX.bind(window,"resize",BX.proxy(this.adjustSlideMenu,this)),this.slideMenuSetActive&&this.setSlideMenuActive(),this.resetDropDownAll(),BX.bind(window,"resize",BX.proxy(this.resetDropDownAll,this)),this.checkSlideMenuTop(),BX.bind(window,"scroll",BX.proxy(this.checkSlideMenuTop,this)),BX.bind(window,"resize",BX.proxy(this.checkSlideMenuTop,this)),this.menuIcon&&BX.bind(this.menuIcon,"click",BX.proxy(this.showHideSlideMenu,this)),BX.bind(document,"click",BX.proxy(this.checkDropDownMenu,this)),BX.bind(document,"keydown",BX.proxy(this.checkDropDownMenuKeydown,this))},adjustSlideMenu:function(){window.innerWidth>=992?this.slideMenuLoaded||(this.slideMenuLoaded=!0,this.resetSlideMenu()):this.slideMenuLoaded&&(this.slideMenuLoaded=!1,this.adjustMainMenu())},resetDropDownAll:function(){var e=this.slideMenu.querySelectorAll('[data-entity="dropdown"]');if(e)for(var t in e)e.hasOwnProperty(t)&&this.hoverIntentLi(e[t])},hoverIntentLi:function(e){$(e).hoverIntent({over:function(){BX.addClass(this,"hover")},out:function(){BX.removeClass(this,"hover")},timeout:200})},resetSlideMenu:function(){var e=this.slideMenu.querySelector('[data-role="mainMenu"]');e&&BX.remove(e)},checkSlideMenuTop:function(){var e=document.body.querySelector(".top-panel"),t=!!e&&e.querySelector(".top-panel__thead");t&&window.innerWidth<992?BX.style(this.slideMenu,"top",t.getBoundingClientRect().top+t.offsetHeight+"px"):e&&window.innerWidth>=992&&BX.style(this.slideMenu,"top",e.getBoundingClientRect().top+e.offsetHeight+"px")},adjustMainMenu:function(){var e=document.body.querySelector(".horizontal-multilevel-menu"),t=!!e&&BX.clone(e);if(t){var s=BX.findChild(t,{tagName:"LI"},!0,!0);if(s)for(var i in s)if(s.hasOwnProperty(i)){var a=BX.findChild(s[i],{tagName:"A"},!1,!1);if(a){BX.adjust(a,{html:'<span class="slide-menu-text">'+a.innerText+"</span>"}),"dropdown"==s[i].getAttribute("data-entity")&&a.appendChild(BX.create("SPAN",{props:{className:"slide-menu-arrow"},children:[BX.create("I",{props:{className:"icon-arrow-right"}})]}));var n=BX.create("LI",{attrs:{"data-entity":"title"},children:[BX.create("I",{props:{className:"icon-arrow-left slide-menu-back"}}),BX.create("SPAN",{props:{className:"slide-menu-title"},html:a.innerText}),BX.create("I",{props:{className:"icon-close slide-menu-close"}})]})}var o=s[i].querySelector('[data-entity="dropdown-menu"]');o&&(n&&BX.prepend(n,o),BX.adjust(o,{props:{className:"slide-menu-dropdown-menu scrollbar-inner"}}))}BX.prepend(BX.create("LI",{attrs:{"data-entity":"title"},children:[BX.create("I",{props:{className:"icon-arrow-left slide-menu-back"}}),BX.create("SPAN",{props:{className:"slide-menu-title"},html:BX.message("MAIN_MENU")}),BX.create("I",{props:{className:"icon-close slide-menu-close"}})]}),t),BX.adjust(t,{props:{className:"slide-menu-dropdown-menu scrollbar-inner"},attrs:{id:"","data-entity":"dropdown-menu"}});var r=BX.create("LI",{attrs:{"data-entity":"dropdown","data-role":"mainMenu"},children:[BX.create("A",{attrs:{href:"javascript:void(0);"},children:[BX.create("SPAN",{props:{className:"slide-menu-text"},html:BX.message("MAIN_MENU")}),BX.create("SPAN",{props:{className:"slide-menu-arrow"},children:[BX.create("I",{props:{className:"icon-arrow-right"}})]})]})]});r.appendChild(t);var l=r.querySelectorAll('[data-entity="dropdown-menu"]');if(l)for(var i in l){if(l.hasOwnProperty(i))if(l[i].querySelector(".active")){var d=BX.findParent(l[i],{tagName:"LI"});d&&BX.addClass(d,"active")}}if(BX.hasClass(this.slideMenu,"scroll-wrapper")){var c=this.slideMenu.querySelector(".scroll-content");c&&BX.prepend(r,c)}else BX.prepend(r,this.slideMenu)}},setSlideMenuActive:function(){var e=BX.findChild(this.slideMenu,{tagName:"li",className:"active"},!0,!0);if(e)for(var t in e)if(e.hasOwnProperty(t)){var s=e[t].querySelector('[data-entity="dropdown-menu"]');s&&!BX.hasClass(s,"active")&&BX.addClass(s,"active")}var i=BX.findChild(this.slideMenu,{tagName:"ul",className:"active"},!0,!0);if(i){var a=i[i.length-1];if(a){if(BX.hasClass(this.slideMenu,"scroll-wrapper")){var n=this.slideMenu.querySelector(".scroll-content");if(n){var o=Math.abs(parseInt(BX.style(n.parentNode,"top"),10));o&&o>0&&BX.style(n,"top",o+"px"),n.scrollTop=0,$(n).scrollbar("destroy"),this.slideMenu=n}}BX.hasClass(a,"scroll-content")||$(a).scrollbar({disableBodyScroll:!0,onInit:function(){BX.hasClass(a,"active")&&BX.removeClass(a,"active")}})}}},showHideSlideMenu:function(e){BX.hasClass(this.slideMenu,"active")?(BX.removeClass(this.slideMenu,"active"),BX.removeClass(document.body,"slide-menu-option-1-active"),BX.onCustomEvent("slideMenu")):(BX.addClass(this.slideMenu,"active"),BX.addClass(document.body,"slide-menu-option-1-active"),BX.onCustomEvent("slideMenu")),e.stopPropagation()},checkDropDownMenu:function(e){if(BX.hasClass(this.slideMenu,"active")){var t="LI"==e.target.tagName?e.target:BX.findParent(e.target,{tagName:"LI"});if(t)if("dropdown"==t.getAttribute("data-entity")){var s=t.hasAttribute("data-role")&&"mainMenu"==t.getAttribute("data-role"),i=BX.hasClass(e.target,"slide-menu-arrow")||!!BX.findParent(e.target,{className:"slide-menu-arrow"});if(s||this.slideMenuOpenLast||!this.slideMenuOpenLast&&i){BX.PreventDefault(e);var a=t.querySelector('[data-entity="dropdown-menu"]');if(a){if((l=BX.findParent(a,{tagName:"UL"}))&&BX.hasClass(l,"scroll-content")){var n=l.scrollTop,o=Math.abs(parseInt(BX.style(l.parentNode,"top"),10)),r=Math.abs(parseInt(BX.style(l.parentNode,"bottom"),10));o&&o>0&&BX.style(l,"top",o+"px"),r&&r>0&&BX.style(l,"bottom",-1*r+"px"),BX.hasClass(l.parentNode,"active")&&BX.addClass(l,"active"),$(l).scrollbar("destroy"),BX.hasClass(l,"slide-menu")&&(this.slideMenu=l)}$(a).scrollbar({disableBodyScroll:!0,onInit:function(){a=a.parentNode,n&&n>0&&(BX.style(a,"top",n+"px"),BX.style(a,"bottom",-1*n+"px"))}}),new BX.easing({duration:300,start:{left:100},finish:{left:0},transition:BX.easing.transitions.linear,step:function(e){BX.style(a,"left",e.left+"%")},complete:function(){BX.addClass(a,"active"),BX.style(a,"left","")}}).animate()}}}else if("title"==t.getAttribute("data-entity")){var l;if(l=BX.findParent(t,{tagName:"UL"})){var d=BX.findParent(l,{tagName:"UL"});d&&$(d).scrollbar({disableBodyScroll:!0,onInit:BX.delegate(function(){var e=Math.abs(parseInt(BX.style(d,"top"),10));e&&e>0&&(BX.style(d.parentNode,"top",e+"px"),BX.style(d,"top",""));var t=Math.abs(parseInt(BX.style(d,"bottom"),10));t&&t>0&&(BX.style(d.parentNode,"bottom",-1*t+"px"),BX.style(d,"bottom","")),BX.hasClass(d,"active")&&BX.removeClass(d,"active"),BX.hasClass(d.parentNode,"slide-menu")&&(this.slideMenu=d.parentNode)},this)}),BX.hasClass(l,"scroll-content")&&(BX.hasClass(l.parentNode,"active")&&BX.addClass(l,"active"),$(l).scrollbar("destroy")),new BX.easing({duration:300,start:{left:0},finish:{left:100},transition:BX.easing.transitions.linear,step:function(e){BX.style(l,"left",e.left+"%")},complete:function(){BX.removeClass(l,"active"),BX.style(l,"left","")}}).animate()}}e.stopPropagation()}},checkDropDownMenuKeydown:function(e){BX.hasClass(this.slideMenu,"active")&&27==e.keyCode&&(BX.removeClass(this.slideMenu,"active"),BX.removeClass(document.body,"slide-menu-option-1-active"),BX.onCustomEvent("slideMenu"),e.stopPropagation())}})}();